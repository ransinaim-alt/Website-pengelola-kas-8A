<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kas Kelas 8A</title>
<style>
    body { font-family: Arial, sans-serif; background-color: #eef2f7; padding: 20px; }
    h1 { text-align: center; color: #333; }
    .container { max-width: 600px; margin: auto; background: #fff; padding: 20px; border-radius: 12px; box-shadow: 0 0 12px rgba(0,0,0,0.1); }
    label, select, input, button { display: block; width: 100%; margin: 8px 0; padding: 10px; }
    button { background-color: #4CAF50; color: white; border: none; cursor: pointer; border-radius: 6px; }
    button:hover { background-color: #45a049; }
    table { width: 100%; margin-top: 20px; border-collapse: collapse; }
    th, td { padding: 10px; border: 1px solid #ddd; text-align: left; }
    th { background-color: #f4f4f4; }
    .saldo { font-weight: bold; font-size: 18px; margin-top: 10px; text-align: center; }
    .negatif { color: red; }
</style>
</head>
<body>

<div class="container">
    <h1>Kas Kelas 8A</h1>
    
    <label for="tipe">Tipe Transaksi:</label>
    <select id="tipe">
        <option value="pemasukan">Pemasukan</option>
        <option value="pengeluaran">Pengeluaran</option>
    </select>

    <label for="jumlah">Jumlah (Rp):</label>
    <input type="number" id="jumlah" placeholder="Masukkan jumlah uang" />

    <label for="keterangan">Keterangan:</label>
    <input type="text" id="keterangan" placeholder="Contoh: beli snack, kegiatan kelas, dll" />

    <button onclick="tambahTransaksi()">Tambah Transaksi</button>

    <div class="saldo">Saldo: Rp <span id="saldo">0</span></div>

    <table>
        <thead>
            <tr>
                <th>No</th>
                <th>Tipe</th>
                <th>Jumlah</th>
                <th>Keterangan</th>
            </tr>
        </thead>
        <tbody id="riwayat">
        </tbody>
    </table>
</div>

<script>
// Ambil data dari Local Storage atau buat default
let transaksi = JSON.parse(localStorage.getItem('transaksi8A')) || [];
let saldo = parseInt(localStorage.getItem('saldo8A')) || 0;

// Fungsi untuk menampilkan saldo & riwayat
function tampilkanData() {
    const saldoElem = document.getElementById('saldo');
    saldoElem.innerText = saldo;
    saldoElem.className = saldo < 0 ? "saldo negatif" : "saldo";

    let riwayatHTML = '';
    transaksi.forEach((t, index) => {
        riwayatHTML += `<tr>
            <td>${index + 1}</td>
            <td>${t.tipe}</td>
            <td>Rp ${t.jumlah}</td>
            <td>${t.keterangan}</td>
        </tr>`;
    });
    document.getElementById('riwayat').innerHTML = riwayatHTML;
}

// Tambah transaksi baru
function tambahTransaksi() {
    const tipe = document.getElementById('tipe').value;
    const jumlah = parseInt(document.getElementById('jumlah').value);
    const keterangan = document.getElementById('keterangan').value;

    if (!jumlah || !keterangan) {
        alert("Harap isi jumlah dan keterangan!");
        return;
    }

    if (tipe === "pemasukan") saldo += jumlah;
    else saldo -= jumlah;

    transaksi.push({ tipe, jumlah, keterangan });

    // Simpan ke Local Storage
    localStorage.setItem('transaksi8A', JSON.stringify(transaksi));
    localStorage.setItem('saldo8A', saldo);

    tampilkanData();

    // Reset input
    document.getElementById('jumlah').value = '';
    document.getElementById('keterangan').value = '';
}

// Tampilkan data saat halaman dimuat
tampilkanData();
</script>

</body>
</html>
